<!DOCTYPE html>
<html lang="en">
    <head>
        <title>{% block title %}{% endblock %}</title>
        <link rel="icon" type="image/x-icon" href="{{ (page.favicon|default(site.favicon))|default('/img/learningtopi-circuit-small.png') }}">
        <link rel="stylesheet" href="/css/cui-standard.css">
        <script src="/js/jquery-3.6.2.min.js"></script>
        <script src="/js/cui.js"></script>
        <script src="/js/flask-base-common.js"></script>
        <link rel="stylesheet" href="/css/addon.css">
        <script src="/js/light_web.js"></script>
        {% block html_head %}{% endblock %}
    </head>
    <body class="cui">
        <main>
            <nav class="header">
                <div class="container-fluid">
                    <div class="header-panels">
                        <div class="header-panel">
                            <div><img src="{{ site.logo|default('/img/learningtopi-circuit.png') }}" width="{{ site.logo_width|default(32) }}" height="{{ site.logo_height|default(32) }}"/></div>
                            <h1 class="header__title">
                                <span> {{ site.title|default('LearningToPi CUI Template') }}{% if site.debug %} <B class="text-danger text-size-28">DEBUG</B>{% endif %}{% if current_user.is_authenticated %} - {{ current_user.username }}{% endif %}</span>
                            </h1>
                        </div>
                        <div class="header-panel header-panel--right">
                            <a href="/index.html" class="header-item" title="Home"><span class="icon-home"></span></a>
                            {%- if current_user.is_authenticated -%}
                            <a href="{{ site.logout_page }}" class="header-item">Logout</a>
                            {%- elif site.auth is not none -%}
                            <a href="{{ site.login_page }}" class="header-item">Login</a>
                            {%- endif -%}
                            {% for dropdown in site.dropdowns|default([{'name': 'Sample Menu', 'items': [{'name': 'LearningToPi.com', 'url': 'https://learningtopi.com', 'newtab': true}]}]) %}
                            <div class="dropdown dropdown--left header-item">
                                <a>{{ dropdown.name }}</a>
                                <div class="dropdown__menu">
                                    {% for link in dropdown['items']|default([]) %}
                                    <a href="{{ link.url }}" {% if link.newtab|default(False) %}target="_blank"{% endif %}>{{ link.name }}</a>
                                    {% endfor %}
                                </div>
                            </div>
                            {% endfor %}
                            {% if site.theme_switcher|default(True) %}
                            <div id="themeSwitcher" class="dropdown dropdown--left header-item">
                                <a>Theme</a>
                                <div class="dropdown__menu">
                                    <a id="theme-default" class="selected">Default</a>
                                    <a id="theme-dark">Dark</a>
                                </div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </nav>
            <div class="content content--alt" style="overflow-x:auto;">
                <div class="container-fluid">
                    <div class="section">
                        <!-- alerts raised in your code -->
                        {% with messages = get_flashed_messages() %}
                            {% if messages %}
                                {% for message in messages %}
                                {% set message_components = message.split(';;') %}
                                    {% if message_components[0] == "SUCCESS" %}
                                    <div class="toast base-margin-bottom">
                                        <div class="toast__icon text-success icon-check-outline"></div>
                                        <div class="toast__body">
                                            <div class="toast__title">{{ message_components[1] }}</div>
                                            <div class="toast__message">{{ message_components[2] }}</div>
                                        </div>
                                        <a href="javascript:;" class="toast__close icon-close"></a>
                                    </div>
                                    {% elif message_components[0] == "ERROR" %}
                                    <div class="toast base-margin-bottom">
                                        <div class="toast__icon text-danger icon-error-outline"></div>
                                        <div class="toast__body">
                                            <div class="toast__title">{{ message_components[1] }}</div>
                                            <div class="toast__message">{{ message_components[2] }}</div>
                                        </div>
                                        <a href="javascript:;" class="toast__close icon-close"></a>
                                    </div>
                                    {% else %}
                                    <div class="toast base-margin-bottom">
                                        <div class="toast__icon text-muted icon-alert"></div>
                                        <div class="toast__body">
                                            <div class="toast__title">{{ message_components[1] }}</div>
                                            <div class="toast__message">{{ message_components[2] }}</div>
                                        </div>
                                        <a href="javascript:;" class="toast__close icon-close"></a>
                                    </div>
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                        {% endwith %}
                    </div>
                    <div class="panel panel--loose panel--raised base-margin-bottom">
                        {% block html_content %}{% endblock %}
                    </div>
                </div>
                <footer class="footer">
                    <div class="footer__links">
                        <ul class="list list--inline">
                            {% for footer_link in site.footer_links|default([{'name': 'Visit us at LearningToPi!', 'url': 'https://www.learningtopi.com', 'newtab': true}])%}
                            <li><a href="{{ footer_link.url }}" {% if footer_link.newtab %}target="_blank"{% endif %}>{{ footer_link.name }}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
                </footer>
            </div>
        </main>
    </body>
</html>